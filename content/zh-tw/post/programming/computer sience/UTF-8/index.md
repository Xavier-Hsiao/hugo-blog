---
date: "2025-04-25T20:34:48+08:00"
draft: false
title: "ä»€éº¼æ˜¯ Unicode å’Œ UTF 8"
description: "èªè­˜ ASCIIã€Unicode å’Œ UTF-8 çš„å­—å…ƒç·¨ç¢¼æ¼”è®Šï¼Œäº†è§£æ–‡ä»¶æˆ–è©¦ç®—è¡¨å‡ºç¾äº‚ç¢¼çš„åŸå› ã€‚"
categories:
  - ç¨‹å¼å­¸ç¿’
tags:
  - é›»è…¦ç§‘å­¸
image: "unicode.png"
---

å‰é™£å­å¹«åŒäº‹è™•ç†æ–‡ä»¶å‡ºç¾äº‚ç¢¼çš„å•é¡Œï¼Œå› ç·£éš›æœƒçœ‹åˆ° Huli å¤§å¤§å¯«çš„æ–‡ç« ã€Š[ç‚ºä»€éº¼æ‰“é–‹æª”æ¡ˆæ™‚æœƒçœ‹åˆ°äº‚ç¢¼ï¼Ÿè·Ÿè‘—å°æ˜ä¸€èµ·å¾å‚³ç´™æ¢å­¸ç¿’ç·¨ç¢¼](https://life.huli.tw/2022/05/21/what-is-encoding-ascii-unicode-utf8-5fe55a98bee0/)ã€‹ï¼Œå°æˆ‘é€™ç¨®æŠ€è¡“éº»ç“œä¾†èªªå¹«åŠ©å¾ˆå¤§ï¼Œå› æ­¤æƒ³çµåˆæŸ¥åˆ°çš„å…¶ä»–å­—å…ƒç·¨ç¢¼ç›¸é—œè³‡æ–™ï¼Œæ•´ç†æˆæ–‡ç« ã€‚

å…ˆèªªçµè«–ï¼š

> äº‚ç¢¼å°±æ˜¯åœ¨å„²å­˜è·Ÿé¡¯ç¤ºæ™‚ä½¿ç”¨äº†ä¸åŒçš„ç·¨ç¢¼ç³»çµ±ï¼Œå¯èƒ½å°è‡´çš„ç‹€æ³ï¼Œåªè¦æ”¹ç”¨åŒä¸€å€‹ç·¨ç¢¼ç³»çµ±å³å¯è§£æ±ºé€™å€‹å•é¡Œã€‚

é¦–å…ˆæˆ‘å€‘è¦çŸ¥é“é›»è…¦æ¡å– `äºŒé€²ä½ç³»çµ±` ä¾†å„²å­˜è³‡è¨Šã€‚ä¹Ÿå°±æ˜¯èªªæ‰€æœ‰è³‡æ–™éƒ½ç”¨ä¸€é€£ä¸²çš„ 0 å’Œ 1 å‘ˆç¾ã€‚

- äºŒé€²ä½ç³»çµ±ä¸­æœ€åŸºæœ¬çš„å–®ä½æ˜¯ `ä½å…ƒ (bit)`ï¼Œç­‰æ–¼å–®ä¸€å€‹ 0 æˆ– 1

- ä¸‹ä¸€ç´šæ›´å¤§çš„å–®ä½æ˜¯ `ä½å…ƒçµ„ (byte)`ï¼Œç­‰æ–¼ 8 å€‹ä½å…ƒï¼Œä¾‹å¦‚ï¼š01101011

ä»¥ä¸€ç¯‡æ–‡ç« ä¾†èªªï¼Œå…§å®¹ç”±éå¸¸å¤š `å­—å…ƒ` çµ„æˆï¼Œè€Œæ¯å€‹å­—å…ƒåœ¨é›»è…¦çœ¼ä¸­éƒ½æ˜¯ä¸€é€£ä¸²çš„ä½å…ƒï¼Œä¹Ÿå°±æ˜¯ä¸€å † 0 å’Œ 1ã€‚

---

## ASCII

`ASCII` æ˜¯ç¾åœ‹æ–¼ 1960 å¹´ä»£æ¨å‡ºçš„æ¨™æº–ç·¨ç¢¼ç³»çµ±ã€‚

> æ‰€è¬‚ç·¨ç¢¼æ˜¯æŒ‡å°‡äººé¡æ–‡å­—è½‰æ›æˆé›»è…¦äºŒé€²ä½çš„æµç¨‹ã€‚

ASCII æ”¯æ´ä»¥ä¸‹ç¬¦è™Ÿï¼š

- å¤§å¯«æ‹‰ä¸å­—æ¯

- å°å¯«æ‹‰ä¸å­—æ¯

- é˜¿æ‹‰ä¼¯æ•¸å­— 0 \~ 9

- å¸¸ç”¨æ¨™é»ç¬¦è™Ÿ

ASCII ç‚ºæ¯å€‹ç¬¦è™ŸæŒ‡æ´¾ä¸€çµ„ç¨ä¸€ç„¡äºŒçš„ [ASCII Code](https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html) (ä¸‰ä½æ•¸ä»£ç¢¼çµ„æˆ)ï¼Œä»¥åŠ**ä¸€å€‹ç¨ä¸€ç„¡äºŒçš„ä½å…ƒçµ„**ã€‚æ‰€ä»¥ ASCII æœ€å¤šèƒ½å„²å­˜ 2^8 = 256 å€‹ç¬¦è™Ÿã€‚

æƒ³æƒ³ä¸–ç•Œä¸Šé‚£éº¼å¤šèªè¨€ä½¿ç”¨ä¸åŒçš„æ–‡å­—ç³»çµ±ï¼ŒåŠ ä¸Š emoji å’Œå„ç¨®é¡æ–‡å­—ï¼Œå€å€ 256 å€‹ç¬¦è™Ÿçš„æ‰£æ‰“éµå®šä¸å¤ ï¼Œå› æ­¤æˆ‘å€‘éœ€è¦æ›´å…ˆé€²ã€å­—å…ƒå„²å­˜é‡æ›´å¤§çš„ç·¨ç¢¼ç³»çµ±ã€‚

---

## Unicode & UTF-8

`Unicode` ä½¿ç”¨[æ›´è¤‡é›œçš„æ©Ÿåˆ¶](https://deliciousbrains.com/how-unicode-works/)ï¼Œè§£æ±ºäº† ASCII ç©ºé–“ä¸è¶³çš„å•é¡Œã€‚æ¯å€‹ç¬¦è™Ÿé‚„æ˜¯æœƒè¢«åˆ†é…åˆ°ä¸€çµ„ç¨ä¸€ç„¡äºŒçš„ä»£ç¢¼ï¼Œè¢«ç¨±ç‚º `code point`ï¼Œä»¥åå…­é€²ä½ç´€éŒ„ï¼Œå¤§æ¦‚é•·é€™æ¨£ï¼š`U+1F4A9`ã€‚

> **ä½† Unicode æœ¬èº«ä¸æœƒå°‡ç¬¦è™Ÿå„²å­˜ç‚ºäºŒé€²ä½**ã€‚ä¹Ÿå°±æ˜¯é›»è…¦çœ‹ä¸æ‡‚ã€‚

æ‰€ä»¥æˆ‘å€‘éœ€è¦å¦ä¸€å¥—ç·¨ç¢¼æ–¹æ³• `UTF-8` å°‡ Unicode è½‰æ›ç‚ºäºŒé€²ä½ã€‚

`UTF-8` æœƒå°‡ `code point` è½‰æ›æˆ 1 \~ 4 å€‹ä½å…ƒçµ„ï¼š

- å¸¸è¦‹ç¬¦è™Ÿï¼Œä¾‹å¦‚ Cï¼Œä½”æ“š 8 ä½å…ƒ

- ç½•è¦‹ç¬¦è™Ÿï¼Œä¾‹å¦‚ ğŸ’•ï¼Œä½”æ“š 32 ä½å…ƒ

- å…¶ä»–ç¬¦è™Ÿå‰‡å æ“š 16 \~ 24 ä½å…ƒä¸ç­‰

é€™éº¼åšçš„å¥½è™•æ˜¯èƒ½å¤ æ›´å½ˆæ€§åœ°ç¯€çœç©ºé–“ã€‚åªéœ€è¦ä¸€å€‹ä½å…ƒçµ„çš„ç¬¦è™Ÿï¼Œå°±è®“å®ƒä½”æ“šä¸€å€‹ä½å…ƒçµ„ï¼›éœ€è¦ä¸‰å€‹ä½å…ƒçµ„çš„ç¬¦è™Ÿï¼Œå°±ä½”æ“šä¸‰å€‹æ•´ã€‚ä¸å¤šä¹Ÿä¸å°‘ï¼Œå¿«æ¨‚æ²’ç…©æƒ±ã€‚

é¡Œå¤–è©±ï¼Œç”±æ–¼ Golang å­—ä¸²é è¨­ä¸Šç”¨ `UTF-8` ç·¨ç¢¼ï¼Œæ‰€ä»¥æˆ‘å€‘å¯é€ééå›å»å–å¾—å­—ä¸²ä¸­æ¯å€‹å­—å…ƒçš„ `code point` ä»¥åŠ `byte index`ã€‚

```go
for pos, char := range "æ—¥æœ¬\x80èª" { // \x80 is an illegal UTF-8 encoding
    fmt.Printf("character %#U starts at byte position %d\n", char, pos)
}

// prints
character U+65E5 'æ—¥' starts at byte position 0
character U+672C 'æœ¬' starts at byte position 3
character U+FFFD 'ï¿½' starts at byte position 6
character U+8A9E 'èª' starts at byte position 7
```
